# /etc/samba/smb.conf — Samba simulation configuration
# Copy this file to /etc/samba/smb.conf using scripts/configure_samba.sh.

[global]
   workgroup = WORKGROUP
   server string = Samba Simulation Server %v
   server role = standalone server

   # Logging
   log file = /var/log/samba/log.%m
   max log size = 1000
   logging = file

   # Authentication
   security = user
   map to guest = Bad User
   passdb backend = tdbsam

   # Tuning
   socket options = TCP_NODELAY
   dns proxy = no

#==============================================================================
# Public share — guest access, no password required
#==============================================================================
[public_share]
   comment = Public Share
   path = /srv/samba/public_share
   browsable = yes
   writable = yes
   guest ok = yes
   create mask = 0664
   directory mask = 0775

#==============================================================================
# Private share — valid Samba users only
#==============================================================================
[private_share]
   comment = Private Share
   path = /srv/samba/private_share
   browsable = yes
   writable = yes
   guest ok = no
   # Users must belong to the 'sambashare' group (created by configure_samba.sh)
   # and be added as Samba users via scripts/create_samba_user.sh.
   valid users = @sambashare
   create mask = 0660
   directory mask = 0770
